<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Rock paper scissors game</title>
</head>
<body style="background-color: antiquewhite;">
    <!--Instructions-->
    <h1>To play:</h1>
   <div>Open the console and type "game()"</div> 

    <script>
    function getComputerChoice() {  // Create function that randomly returns either 'Rock', 'Paper' or 'Scissors'
        const cpuChoice = ['rock', 'paper', 'scissors']  // variable with the choices
        return cpuChoice[(Math.floor(Math.random() * cpuChoice.length))]  // Get random number 0 - 1 , multiply by array length (3), round of to the nearest number by going down.
    }


    function playRound(playerSelection, computerSelection){ // declares function that "plays the game", it returns the status och a completed round, be it tie, win, loss or undefined if the user dont make a valid choice.

        playerSelection = playerSelection.toLowerCase() // takes playerSelection and turns it all into lowercase so the player can write case-insensitive selections.
        let choiceMade = playerSelection + " " + computerSelection // combines playerSelection and computerSelection to one string with a space.
    
        if(playerSelection !== 'rock' && playerSelection !== 'scissors' && playerSelection !== 'paper'){  // checks if the player didnt make any choice or spelled it wrong
            return undefined
        } else if(playerSelection === computerSelection){  // if player and computer have same choice return 'tie'. Maybe this can be checked by using choiceMade ?
            console.log(choiceMade)
                return 'tie'
        }else if(choiceMade == 'rock scissors' || choiceMade == 'scissors paper' || choiceMade == 'paper rock'){ // if player + computer would result in a win for the player, return 'win'
            console.log(choiceMade)
                return 'win'
             } else {  // if none of the other statements return true, return 'lose'
                console.log(choiceMade)
                return 'lose'
             }    
    }

    function game(){ // funtion that 'plays' the game, should start a loop in the future.

        let playerScore = 0 //  players score, starting at 0
        let computerScore = 0 // computers score, starting at 0
        let computerChoice = getComputerChoice() // gets the computer choice and stores it.
        let input = prompt("Rock, Paper, Scissors?") // get player choice and store it
        let result = playRound(input, computerChoice) // calls the function playRound, use input and computerChoice, store result.

        if (result === 'win'){
            playerScore++
            alert(`You win! ${input} beats ${computerChoice}. Current score is ${playerScore} points to you and ${computerScore} points to the computer. `) // if result is win, increment playerScore by 1 and show the player the result and current score
        } else if (result === 'lose'){
            computerScore++
            alert(`You lose! ${computerChoice} beats ${input}. Current score is ${playerScore} points to you and ${computerScore} points to the computer.`) // if result is loss, increment computerScore by 1 and show the player the result and current score.
        } else if (result == 'tie'){ 
            alert(`Its a tie! Current score is ${playerScore} points to you and ${computerScore} points to the computer.`)// if result is tie, shows result and current score.
        } else { 
            alert('You didnt enter a valid choice, please try again.') // if input isnt a valid choice this alert will be triggered.
        }
        console.log(result)
    }
    </script>
   
</body>
</html>

