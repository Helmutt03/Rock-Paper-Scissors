<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Rock paper scissors game</title>
    <link rel="stylesheet" href="styles.css"> 
</head>
<body style="background-color: antiquewhite;">
    <!--Instructions-->

    <div class="firstText">
        A game of rock paper scissors
    </div>

    <div class="secondText">
        -By Helmer
    </div>

    <button onclick="game()">
        <!--When this is clicked the game() function will be called-->
        Press this to play    
  
    </button>

    <script>
        // Function that randomly returns either 'Rock', 'Paper' or 'Scissors'   
    function getComputerChoice() {  
        // variable with the choices
        const cpuChoice = ['rock', 'paper', 'scissors'] 

        // Get random number 0 - 1 , multiply by array length (3), 
        // round of to the nearest number by going down.
        return cpuChoice[(Math.floor(Math.random() * cpuChoice.length))]    
    }

        // declares function that "plays the game" 
        // and returns the status of a completed round
    function playRound(playerSelection, computerSelection){ 

        // takes playerSelection and turns it all into lowercase 
        // so the player can write case-insensitive selections.
        playerSelection = playerSelection.toLowerCase() 

        // combines playerSelection and computerSelection
        let choiceMade = playerSelection + " " + computerSelection
        
        // checks if the player didnt make any choice or spelled it wrong
        if     (playerSelection !== 'rock' &&
                playerSelection !== 'scissors' &&
                playerSelection !== 'paper'){  
            return null    
        }

        // if player and computer have same choice return 'tie'.
        // Maybe this can be checked by using choiceMade ? 
        else if(playerSelection === computerSelection){  
            return 'tie'                
        }

        // if choiceMade would result in a win for the player, return 'win'
        else if(choiceMade == 'rock scissors' || 
                choiceMade == 'scissors paper' || 
                choiceMade == 'paper rock'){ 
            return 'win'
        }

        // if none of the other statements return true, return 'lose'
        else {  
            return 'lose'
        }    
    }
        // funtion that 'plays' the game and loops 
        // until either the player or computer have won. 
        // Can probably be made shorter.
    function game(){

        // create variables for the scores and check if any of them is 5 yet.
        for(
        let playerScore = 0, computerScore = 0; 
            computerScore <5 && playerScore <5;)
        {

        // get computer choice and store it                 
        let computerChoice = getComputerChoice() 

        // get player choice and store it
        let input = prompt("Rock, Paper, Scissors?") 

        // calls playRound, use input and computerChoice, store result.
        let result = playRound(input, computerChoice) 

        if (playerScore == 4 && result == 'win'){ 
            playerScore++
        // Final winning message for player    
        alert(` Congratulation, you have won! 
                The final score came out to ${playerScore} points to you 
                and ${computerScore} to the computer.`) 

        }
        
        else if(computerScore == 4 && result == 'lose'){ 
                computerScore++
        // final losing message for player     
        alert(` You lost! The computer won this time but feel free to play 
                again. The final score came out to ${playerScore} points to you 
                and ${computerScore} to the computer.`) 
        } 

        else if(result === 'win'){
                playerScore++
        // if result is win, increment playerScore by 1 and show results
        alert(` You win! ${input} beats ${computerChoice}. Current score 
                is ${playerScore} points to you and ${computerScore} points to 
                the computer. `)
        } 

        else if(result === 'lose'){
                computerScore++
        // if result is loss, increment computerScore by 1 and show result
        alert(` You lose! ${computerChoice} beats ${input}. Current score 
                is ${playerScore} points to you and ${computerScore} points to 
                the computer.`) 
        
        } 

        else if(result == 'tie'){ 
        // if result is tie, shows result and current score.
        alert(` Its a tie! Current score is ${playerScore} points to you 
                and ${computerScore} points to the computer.`)
        }

        else { 
        // if input isnt a valid choice this alert will be triggered.
        alert('You didnt enter a valid choice, please try again.') 
        }

        }
    }
    </script>  
</body>
</html>

